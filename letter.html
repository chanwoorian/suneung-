<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ì—„ë§ˆì—ê²Œ ë³´ë‚´ëŠ” í¸ì§€</title>
<style>
@font-face {
  font-family: 'IsYun';
  src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2202-2@1.0/LeeSeoyun.woff') format('woff');
  font-weight: normal;
  font-display: swap;
}

body {
  margin: 0;
  font-family: 'IsYun', sans-serif;
  background: linear-gradient(180deg, #f8eee8 0%, #fffaf7 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  overflow: hidden;
  user-select: none;
  transition: opacity 0.8s ease;
}

.container {
  position: relative;
  text-align: center;
}

/* ë´‰íˆ¬ */
.envelope {
  position: relative;
  width: 280px;
  height: 180px;
  background: #fbe7d8;
  border-radius: 0 0 10px 10px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  cursor: pointer;
  overflow: hidden;
  transition: opacity 0.6s ease, transform 0.6s ease;
  margin: 0 auto;
}

/* ëšœê»‘ */
.flap {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 90px;
  background: #f9dcc2;
  clip-path: polygon(0 0, 50% 100%, 100% 0);
  transform-origin: top;
  transition: transform 0.8s ease;
  z-index: 2;
}

/* ì‹¤ë§ì™ìŠ¤ */
.seal {
  font-size: 48px;
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: #e45b76;
  z-index: 3;
  transition: opacity 0.5s ease;
}

/* í¸ì§€ */
.letter {
  width: 90%;
  max-width: 600px;
  background: #fffdf8;
  border-radius: 10px;
  padding: 24px 28px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.1);
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 1s ease, transform 1s ease;
  font-size: 1.1rem;
  line-height: 1.8;
  text-align: left;
  white-space: pre-wrap;
  margin: 0 auto;
}

.show {
  opacity: 1 !important;
  transform: translateY(0) !important;
}

/* ë²„íŠ¼ */
button {
  margin-top: 20px;
  padding: 10px 20px;
  border: none;
  background: linear-gradient(180deg, #ff91a4, #e45b76);
  color: #fff;
  font-family: 'IsYun', sans-serif;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  cursor: pointer;
  transition: transform 0.15s ease;
}
button:active {
  transform: scale(0.97);
}

/* ëª¨ë°”ì¼ */
@media (max-width: 600px) {
  .letter {
    font-size: 1rem;
    padding: 18px 20px;
  }
  .envelope {
    width: 210px;
    height: 140px;
  }
  .flap {
    height: 70px;
  }
  .seal {
    font-size: 38px;
  }
}

/* ì»¤ì„œ */
.cursor {
  display: inline-block;
  width: 10px;
  animation: blink 1s step-end infinite;
}
@keyframes blink {
  from, to { opacity: 0 }
  50% { opacity: 1 }
}

/* ì• ë‹ˆë©”ì´ì…˜ */
.open-flap {
  transform: rotateX(180deg);
}
.fade-out {
  opacity: 0;
  transform: scale(0.95);
}

/* í™”ë©´ ì „ì²´ í˜ì´ë“œì•„ì›ƒ */
.fadeScreen {
  opacity: 0;
}
</style>
</head>
<body>

<div class="container">
  <!-- ë´‰íˆ¬ -->
  <div class="envelope" id="envelope">
    <div class="flap" id="flap"></div>
    <div class="seal" id="seal">ğŸ¾</div>
  </div>

  <!-- í¸ì§€ -->
  <div class="letter" id="letter"></div>

  <!-- ë²„íŠ¼ -->
  <button id="nextBtn" style="display:none;">ë‹¤ìŒ í¸ì§€ë¡œ âœ</button>
</div>

<script>
const envelope = document.getElementById('envelope');
const flap = document.getElementById('flap');
const seal = document.getElementById('seal');
const letterBox = document.getElementById('letter');
const nextBtn = document.getElementById('nextBtn');

const letters = [
`ì—„ë§ˆ ì € ì½©ê³µë“€ì˜ˆìš” â¤ï¸

ì˜¤ëŠ˜ì€ ë°”ë¡œ ìš°ë¦¬ ë©‹ì§„ ì´ŒìŒ ëŒ€ì™•ë‹˜ì˜ ìˆ˜ëŠ¥ ê°ë…ì¼ì´ì£ !
ì˜¤ëŠ˜ í•˜ë£¨ í˜ë“¤ê² ì§€ë§Œ ê·¸ë§Œí¼ ë¿Œë“¯í•˜ê³  ì¦ê±°ìš´ ë‚ ì´ ë˜ê¸¸ ë°”ë„ê²Œìš” ğŸ’—
ì´ŒìŒì´ë“¤ê³¼ ê³ ì–‘ì´ë“¤ì´ ì—„ë§ˆë¥¼ ì‘ì›í•©ë‹ˆë‹¤!
ì €í¬ëŠ” ì˜ ìˆì„í…Œë‹ˆê¹Œ ë§ˆìŒ í¸í•˜ê²Œ ê°ë…í•˜ê³  ì˜¤ì„¸ìš”~
ì‚¬ë‘í•´ìš©ğŸ˜»

ì„ ìš° ì˜¬ë¦¼`,

`ì—„ë§ˆ ì € ì°¬ìš°ì˜ˆìš”

ë²Œì¨ 2025ë…„ì´ ê±°ì˜ ë‹¤ ê°€ê³  ë²Œì¨ ìˆ˜ëŠ¥ë‚ ì´ë„¤ìš”â¤ï¸
ì €í¬ë“¤ì€ ë©‹ì§„ í•˜ë£¨ë¥¼ ë³´ë‚¼íƒœë‹ˆ ê±±ì • ë§ê³  ê°ë…ê´€ ì—´ì‹¬íˆ ì¡°ì‹¬íˆ í•˜ê³  ì˜¤ì„¸ìš©â¤ï¸â¤ï¸
ì´Œ!ìŒ! ì‚¬ë‘í•©ë‹ˆë‹¤â¤ï¸ í•˜ê³  ì™€ì„œ ë§›ìˆëŠ”ê±° ë¨¹ê±°ìš”!!

ì°¬ìš° ì˜¬ë¦¼`
];

let currentLetter = 0;
let opened = false;
let typing = false;

// íƒ€ì´í•‘ íš¨ê³¼
function typeLetter(text, element, speed = 45, callback) {
  typing = true;
  let i = 0;
  const cursor = document.createElement('span');
  cursor.className = 'cursor';
  cursor.textContent = '|';
  element.appendChild(cursor);

  const interval = setInterval(() => {
    if (i < text.length) {
      element.insertBefore(document.createTextNode(text.charAt(i)), cursor);
      i++;
    } else {
      clearInterval(interval);
      cursor.remove();
      typing = false;
      if (callback) callback();
    }
  }, speed);
}

// ë´‰íˆ¬ í´ë¦­ ì‹œ
document.body.addEventListener('click', () => {
  if (opened || typing) return;
  opened = true;

  flap.classList.add('open-flap');
  seal.style.opacity = '0';

  setTimeout(() => envelope.classList.add('fade-out'), 800);

  setTimeout(() => {
    envelope.style.display = 'none';
    letterBox.classList.add('show');
    typeLetter(letters[currentLetter], letterBox, 45, () => {
      nextBtn.style.display = 'inline-block';
    });
  }, 1500);
});

// ë‹¤ìŒ/ë‹¤ì‹œ ë²„íŠ¼
nextBtn.addEventListener('click', () => {
  if (typing) return;
  currentLetter++;

  if (currentLetter < letters.length) {
    nextBtn.style.display = 'none';
    letterBox.textContent = '';
    typeLetter(letters[currentLetter], letterBox, 45, () => {
      nextBtn.textContent = "ë‹¤ì‹œ ë³´ê¸° ğŸ”„";
      nextBtn.style.display = 'inline-block';
    });
  } else {
    // ìƒˆë¡œê³ ì¹¨ì²˜ëŸ¼ ì´ˆê¸°í™”
    document.body.classList.add('fadeScreen');
    setTimeout(() => {
      location.reload(); // ì™„ì „ ì´ˆê¸°í™” (ë´‰íˆ¬í™”ë©´ìœ¼ë¡œ)
    }, 700);
  }
});
</script>
</body>
</html>
